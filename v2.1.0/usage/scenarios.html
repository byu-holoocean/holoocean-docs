<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="Docutils 0.18.1: http://docutils.sourceforge.net/" name="generator"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Scenarios — HoloOcean 2.1.0 documentation</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/themes_override.css" rel="stylesheet" type="text/css"/>
<link href="../_static/favicon.png" rel="shortcut icon"/>
<!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/clipboard.min.js"></script>
<script src="../_static/copybutton.js"></script>
<script src="../_static/js/theme.js"></script>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="environments.html" rel="next" title="Environments"/>
<link href="usage.html" rel="prev" title="Using HoloOcean"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html">
            HoloOcean
          </a>
<div class="version"><a href="../../versionList.html" style="color: inherit;">2.1.0</a></div>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption" role="heading"><span class="caption-text">HoloOcean Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="usage.html">Using HoloOcean</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Scenarios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scenario-file-format">Scenario File Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#name-and-world">Name and World</a></li>
<li class="toctree-l4"><a class="reference internal" href="#agent-objects">Agent Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sensor-objects">Sensor Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#frame-rates">Frame Rates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#octree-configuration">Octree Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-scenario-parameters">Other Scenario Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-and-modifying-pre-built-scenarios">Accessing and Modifying Pre-Built Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-custom-scenarios">Making Custom Scenarios</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-a-dictionary-for-a-scenario-config">Using a Dictionary for a Scenario Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-json-file-for-a-scenario-config">Using a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file for a Scenario Config</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="environments.html">Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewport.html">Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Improving Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="units-and-coordinates.html">Units and Coordinates in HoloOcean</a></li>
<li class="toctree-l2"><a class="reference internal" href="semaphores.html">HoloOcean Client-Server Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="ROS2.html">ROS2 Bridge</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages/packages.html">HoloOcean Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/agents.html">HoloOcean Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/sensors.html">HoloOcean Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env_appearance/env_appearance.html">Environment Appearance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versionList.html">Other Versions Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/sensors.html">HoloOcean Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/develop.html">Developing HoloOcean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/index.html">HoloOcean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/environments.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/spaces.html">Action Spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/holooceanclient.html">HoloOcean Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/packagemanager.html">Package Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/sensors.html">Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/lcm.html">LCM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/dynamics.html">Fossen Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/shmem.html">Shared Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/util.html">Util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../holoocean/exceptions.html">Exceptions</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">HoloOcean</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../index.html"></a></li>
<li class="breadcrumb-item"><a href="usage.html">Using HoloOcean</a></li>
<li class="breadcrumb-item active">Scenarios</li>
<li class="wy-breadcrumbs-aside">
<a href="../_sources/usage/scenarios.rst.txt" rel="nofollow"> View page source</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="scenarios">
<span id="id1"></span><h1>Scenarios<a class="headerlink" href="#scenarios" title="Permalink to this heading"></a></h1>
<p>When you call <code class="docutils literal notranslate"><span class="pre">holoocean.make()</span></code> to create an environment, you pass in the
name of a scenario, eg. <code class="docutils literal notranslate"><span class="pre">holoocean.make("Pier-Hovering")</span></code>. A scenario tells
HoloOcean:</p>
<ul class="simple">
<li><p>Which world to load</p></li>
<li><p>What agents are present</p></li>
<li><p>Where they are</p></li>
<li><p>What sensors they have</p></li>
</ul>
<p>HoloOcean worlds are meant to be configurable by changing out the scenario.
Scenarios allow the same world to be used for different purposes. For different
senarios using the same world, the world or map itself doesn’t change, but the
things in the world and your objective can change.</p>
<p>We provide several pre-built scenarios in <a class="reference internal" href="../packages/packages.html#all-packages"><span class="std std-ref">HoloOcean Packages</span></a> for common underwater
robotics tasks, distributed as <code class="docutils literal notranslate"><span class="pre">.json</span></code> files.</p>
<p>HoloOcean is intended to be used with user-created scenarios as well. Custom scenarios
can be created using a dictionary in a Python script or by creating a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file.
Both methods follow the same format, described below.</p>
<section id="scenario-file-format">
<span id="scenario-files"></span><h2>Scenario File Format<a class="headerlink" href="#scenario-file-format" title="Permalink to this heading"></a></h2>
<p>Scenario <code class="docutils literal notranslate"><span class="pre">.json</span></code> files are distributed in packages (see <a class="reference internal" href="../packages/docs/package-structure.html#package-contents"><span class="std std-ref">Package Contents</span></a>), and
must be named <code class="docutils literal notranslate"><span class="pre">{WorldName}-{ScenarioName}.json</span></code>. By default they are stored in the
<code class="docutils literal notranslate"><span class="pre">worlds/{PackageName}</span></code> directory (see <a class="reference internal" href="../packages/docs/installation.html#package-locations"><span class="std std-ref">Package Installation Location</span></a>).</p>
<p>Scenarios can be defined using a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file or in a Python script using a dictionary.
Both methods follow the same format using key-value pairs. An example dictionary is given below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{Scenario Name}"</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"world"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{world it is associated with}"</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"package_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{package it is associated with}"</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"agents"</span><span class="p">:[</span>
<span class="w">      </span><span class="s2">"array of agent objects"</span>
<span class="w">   </span><span class="p">],</span>
<span class="w">   </span><span class="nt">"ticks_per_sec"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"frames_per_sec"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"env_min"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">-10</span><span class="p">],</span>
<span class="w">   </span><span class="nt">"env_max"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">],</span>
<span class="w">   </span><span class="nt">"octree_min"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"octree_max"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"window_width"</span><span class="p">:</span><span class="w">  </span><span class="mi">1280</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"window_height"</span><span class="p">:</span><span class="w"> </span><span class="mi">720</span><span class="p">,</span>
<span class="w">   </span><span class="nt">"lcm_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provider name"</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At a minimum, a scenario must contain <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">world</span></code>, and <code class="docutils literal notranslate"><span class="pre">package_name</span></code> keys, and at
least one agent object. All other keys are optional and will default to a set value if not
provided.</p>
</div>
<p>Below is a description of some of the keys in the scenario dictionary.</p>
<section id="name-and-world">
<h3>Name and World<a class="headerlink" href="#name-and-world" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code> is a string that specifies the name of the scenario.</dt><dd><p>This name is part of the string passed to <code class="docutils literal notranslate"><span class="pre">holoocean.make()</span></code> to create an environment.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">world</span></code> is a string that specifies the world to load.</dt><dd><p>It must match the name of the world file in the package folder (see <a class="reference internal" href="../packages/packages.html#packages"><span class="std std-ref">HoloOcean Packages</span></a>).</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_name</span></code> is a string that specifies the package the world is associated with.</p></li>
</ul>
</section>
<section id="agent-objects">
<h3>Agent Objects<a class="headerlink" href="#agent-objects" title="Permalink to this heading"></a></h3>
<p>HoloOcean agents are declared in a list in the scenario dictionary. Each agent is defined using a
new dictionary in the list.</p>
<p>Below is an example of an agent configuration. For detailed descriptions of the keys and values,
see <a class="reference internal" href="../agents/docs/agent-config.html#agent-configuration"><span class="std std-ref">Agent Configuration</span></a>.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">"agents"</span><span class="p">:[</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"agent_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uav0"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"agent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{agent types}"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"sensors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">         </span><span class="s2">"array of sensor objects"</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">"control_scheme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{control scheme type}"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"rotation"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"location_randomization"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"rotation_randomization"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="sensor-objects">
<h3>Sensor Objects<a class="headerlink" href="#sensor-objects" title="Permalink to this heading"></a></h3>
<p>Each agent can be equipped with one or more sensors, including cameras and sonar. Sensor definition
happens within each agent definition.</p>
<p>Below is an example of a sensor definition. For detailed descriptions of the keys and values, see
<a class="reference internal" href="../sensors/docs/sensor-config.html#sensor-configuration"><span class="std std-ref">Sensor Configuration</span></a>.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">"sensors"</span><span class="p">:[</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"sensor_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RGBCamera"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"sensor_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FrontCamera"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"socket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"socket name"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"rotation"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"Hz"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"lcm_channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_name"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="s2">"array of sensor configurations"</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="frame-rates">
<span id="configure-framerate"></span><h3>Frame Rates<a class="headerlink" href="#frame-rates" title="Permalink to this heading"></a></h3>
<p>The frame rate in HoloOcean is controlled using two parameters: <code class="docutils literal notranslate"><span class="pre">ticks_per_sec</span></code> and
<code class="docutils literal notranslate"><span class="pre">frames_per_sec</span></code>.</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ticks_per_sec</span></code> changes how many ticks are in a simulation second.</dt><dd><p>This must be higher than any “Hz” sampling rate used by any sensors. Defaults to 30.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">frames_per_sec</span></code> is the max FPS the environment can run at.</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, it will match <code class="docutils literal notranslate"><span class="pre">ticks_per_sec</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">false</span></code>, FPS will not be capped, and the environment will run as fast as possible.</p></li>
<li><p>If a number is given, the simulation will attempt to reach that frame rate, but no higher.</p></li>
<li><p>Defaults to <cite>true</cite>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>For running the simulation in real time (for example, when <a class="reference internal" href="../examples/examples/controller.html#manual-control"><span class="std std-ref">Manually Controlling an Agent</span></a>), set
<code class="docutils literal notranslate"><span class="pre">frames_per_sec</span></code> to true and ensure that <code class="docutils literal notranslate"><span class="pre">ticks_per_sec</span></code> is small enough for your computer to
handle in real-time. For running HoloOcean <a class="reference internal" href="viewport.html#headless"><span class="std std-ref">headless</span></a>, you’ll likely want the
simulation to run as fast as possible, so <code class="docutils literal notranslate"><span class="pre">frames_per_sec</span></code> should be set to false. When using a
GPU, simulations can run much faster than realtime, making things difficult to control when the
framerate is unlimited. In this case, capping <code class="docutils literal notranslate"><span class="pre">frames_per_sec</span></code> at a specific value can be useful.</p>
<p>You can adjust the simulation frames per second and ticks per second during runtime by calling the methods
<code class="docutils literal notranslate"><span class="pre">env.set_frames_per_sec</span></code> and <code class="docutils literal notranslate"><span class="pre">env.set_ticks_per_sec</span></code>. Each of these functions takes one argument: the
newly desired frames/ticks per second.</p>
</section>
<section id="octree-configuration">
<span id="configure-octree"></span><h3>Octree Configuration<a class="headerlink" href="#octree-configuration" title="Permalink to this heading"></a></h3>
<p>When using a form of sonar sensor and initializing the world, an Octree will either be
created or loaded from a cache. The parameters of these can be set using the <code class="docutils literal notranslate"><span class="pre">env_min</span></code>,
<code class="docutils literal notranslate"><span class="pre">env_max</span></code>, <code class="docutils literal notranslate"><span class="pre">octree_min</span></code>, and <code class="docutils literal notranslate"><span class="pre">octree_max</span></code>. The octrees are cached in the <code class="docutils literal notranslate"><span class="pre">Linux/Holodeck/Octrees</span></code> folder
in the worlds folder (see <a class="reference internal" href="../packages/docs/installation.html#package-locations"><span class="std std-ref">Package Installation Location</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">env_min</span></code>/<code class="docutils literal notranslate"><span class="pre">env_max</span></code> are used to set the upper/lower bounds of the environment. They should
be set in <a class="reference internal" href="../packages/docs/package-structure.html#id2"><span class="std std-ref">Package Structure</span></a>, but the values set here will override it.</p>
<p><code class="docutils literal notranslate"><span class="pre">octree_min</span></code>/<code class="docutils literal notranslate"><span class="pre">octree_max</span></code> are used to set the minimum/mid-level size of the octree. <code class="docutils literal notranslate"><span class="pre">octree_min</span></code>
can go as low as .01 (1cm), and then the octree will double in size until it reaches <code class="docutils literal notranslate"><span class="pre">octree_max</span></code>.</p>
<p>For more information about Octrees, see <a class="reference internal" href="../sensors/docs/octree.html#octree"><span class="std std-ref">Octree Generation</span></a>.</p>
</section>
<section id="other-scenario-parameters">
<h3>Other Scenario Parameters<a class="headerlink" href="#other-scenario-parameters" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">window_width/height</span></code> control the size of the viewport window opened when an environment is created.</dt><dd><p>Sizes are in pixels.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">lcm_provider</span></code> is an optional parameter that specifies where to publish LCM messages.</dt><dd><p>For more detail, see <a class="reference internal" href="../sensors/docs/publishing.html#lcm"><span class="std std-ref">Publishing Data Using LCM</span></a>.</p>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="accessing-and-modifying-pre-built-scenarios">
<h2>Accessing and Modifying Pre-Built Scenarios<a class="headerlink" href="#accessing-and-modifying-pre-built-scenarios" title="Permalink to this heading"></a></h2>
<p>Configurations for pre-built scenarios can be found by reading the associated <code class="docutils literal notranslate"><span class="pre">.json</span></code> file.
These are located in the worlds package folder (see <a class="reference internal" href="../packages/docs/installation.html#package-locations"><span class="std std-ref">Package Installation Location</span></a>).</p>
<p>Sometimes it is helpful to extract specific parameters from a pre-made scenario for use within
a Python script (ex. for plotting data). Rather than having to copy data manually from the
<code class="docutils literal notranslate"><span class="pre">.json</span></code>, you can use the HoloOcean <a class="reference internal" href="../holoocean/packagemanager.html#packagemanager"><span class="std std-ref">Package Manager</span></a> to extract the scenario configuration.</p>
<p>For example, the following code extracts the azimuth angle from the sidescan sonar sensor in the
<code class="docutils literal notranslate"><span class="pre">OpenWater-TorpedoSidescanSonar</span></code> scenario.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">holoocean</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">holoocean</span><span class="o">.</span><span class="n">packagemanager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="s2">"OpenWater-TorpedoSidescanSonar"</span><span class="p">)</span>
<span class="n">sidescan_config</span> <span class="o">=</span> <span class="n">scenario</span><span class="p">[</span><span class="s1">'agents'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'sensors'</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">"configuration"</span><span class="p">]</span>
<span class="n">azi</span> <span class="o">=</span> <span class="n">sidescan_config</span><span class="p">[</span><span class="s1">'Azimuth'</span><span class="p">]</span>
</pre></div>
</div>
<p>You may find that the provided pre-built scenarios in the <a class="reference internal" href="../packages/packages.html#all-packages"><span class="std std-ref">Ocean package</span></a>
meet some but not all of your needs. Rather than create a new scenario from scratch, you can
modify the pre-built scenarios to adjust specific parameters using a similar method as above.</p>
<p>The code below demonstrates how to modify the <code class="docutils literal notranslate"><span class="pre">ticks_per_sec</span></code> parameter in the <code class="docutils literal notranslate"><span class="pre">Pier-Hovering</span></code>
scenario:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">holoocean</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="n">holoocean</span><span class="o">.</span><span class="n">packagemanager</span><span class="o">.</span><span class="n">get_scenario</span><span class="p">(</span><span class="s2">"Pier-Hovering"</span><span class="p">)</span>
<span class="n">scenario</span><span class="p">[</span><span class="s2">"ticks_per_sec"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">holoocean</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">scenario_cfg</span><span class="o">=</span><span class="n">scenario</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="making-custom-scenarios">
<span id="custom-scenarios"></span><h2>Making Custom Scenarios<a class="headerlink" href="#making-custom-scenarios" title="Permalink to this heading"></a></h2>
<p>You can create custom scenarios in two ways: with a dictionary in a Python script, or by
creating a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file. Both methods follow the same format as described in the section above.</p>
<section id="using-a-dictionary-for-a-scenario-config">
<h3>Using a Dictionary for a Scenario Config<a class="headerlink" href="#using-a-dictionary-for-a-scenario-config" title="Permalink to this heading"></a></h3>
<p>Create a dictionary in Python that matches the structure specified in <a class="reference internal" href="#scenario-files"><span class="std std-ref">Scenario File Format</span></a>,
and pass it in to <code class="xref py py-func docutils literal notranslate"><span class="pre">holoocean.make()</span></code> using the <code class="docutils literal notranslate"><span class="pre">scenario_cfg</span></code> variable.</p>
<p>An example is given below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">holoocean</span>

<span class="n">scenario</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"test_rgb_camera"</span><span class="p">,</span>
    <span class="s2">"world"</span><span class="p">:</span> <span class="s2">"SimpleUnderwater"</span><span class="p">,</span>
    <span class="s2">"package_name"</span><span class="p">:</span> <span class="s2">"Ocean"</span><span class="p">,</span>
    <span class="s2">"main_agent"</span><span class="p">:</span> <span class="s2">"auv0"</span><span class="p">,</span>
    <span class="s2">"ticks_per_sec"</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
    <span class="s2">"agents"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"agent_name"</span><span class="p">:</span> <span class="s2">"auv0"</span><span class="p">,</span>
            <span class="s2">"agent_type"</span><span class="p">:</span> <span class="s2">"HoveringAUV"</span><span class="p">,</span>
            <span class="s2">"sensors"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">"sensor_type"</span><span class="p">:</span> <span class="s2">"RGBCamera"</span><span class="p">,</span>
                    <span class="s2">"socket"</span><span class="p">:</span> <span class="s2">"CameraSocket"</span><span class="p">,</span>
                    <span class="s2">"configuration"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"CaptureWidth"</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span>
                        <span class="s2">"CaptureHeight"</span><span class="p">:</span> <span class="mi">512</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">"control_scheme"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"location"</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">holoocean</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">scenario_cfg</span><span class="o">=</span><span class="n">scenario</span><span class="p">)</span> <span class="k">as</span> <span class="n">env</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
        <span class="n">env</span><span class="o">.</span><span class="n">tick</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="using-a-json-file-for-a-scenario-config">
<h3>Using a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file for a Scenario Config<a class="headerlink" href="#using-a-json-file-for-a-scenario-config" title="Permalink to this heading"></a></h3>
<p>You can specify a custom scenario by creating a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file that follows
the format given in <a class="reference internal" href="#scenario-files"><span class="std std-ref">Scenario File Format</span></a> and either:</p>
<ol class="arabic simple">
<li><p>Loading it yourself in a Python script and parsing it into a dictionary, then
using that dictionary as described above.</p></li>
<li><p>Placing it in HoloOcean’s scenario search path.</p></li>
</ol>
<p>When you give a scenario name to <code class="xref py py-func docutils literal notranslate"><span class="pre">holoocean.make()</span></code>, HoloOcean will search
each package folder (see <a class="reference internal" href="../packages/docs/installation.html#package-locations"><span class="std std-ref">Package Installation Location</span></a>) until it finds a
<code class="docutils literal notranslate"><span class="pre">.json</span></code> file that matches the scenario name.</p>
<p>To use custom scenario <code class="docutils literal notranslate"><span class="pre">.json</span></code> files, place them in the Oceans package folder
(or the package folder that contains the world your scenario uses). For details
on package folder locations, see <a class="reference internal" href="../packages/docs/installation.html#package-locations"><span class="std std-ref">Package Installation Location</span></a>. HoloOcean
will automatically find and use <code class="docutils literal notranslate"><span class="pre">.json</span></code> scenario files in the package folder.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you remove and reinstall a package, HoloOcean will clear the contents of
that folder. Be sure to remove any custom scenario <code class="docutils literal notranslate"><span class="pre">.json</span></code> files from the
package folder before uninstalling and reinstalling a package.</p>
</div>
</section>
</section>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="usage.html" rel="prev" title="Using HoloOcean"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="environments.html" rel="next" title="Environments">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright BYU FRoStLab.</p>
</div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>